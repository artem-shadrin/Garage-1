<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../styles/style.css">
  <title>Document</title>
</head>

<body>
  <header class="header_auth">
    <div class="container">
      <a onclick="javascript:history.back();" class="section__back-button">
        <svg class="i-icon i-icon--md" id="ic_arrowback">
          <use xlink:href="../../icons/sprite.svg#ic_arrowback"></use>
        </svg>
      </a>
    </div>
  </header>
  <section class="authorization">
    <div class="container">
      <div class="sms-code">
        <h2 class="section__title sms-code__title">Введите код из SMS</h2>
        <span class="section__subtitle sms-code__subtitle">
          Код отправлен на номер <span class="sms-code__tel"></span>
        </span>
        <form action="" class="sms-code__form">
          <input type="number" name="sms-code" id="sms-code-1" class="sms-code__input" max="9" min="0" maxlength="1">
          <input type="number" name="sms-code" id="sms-code-2" class="sms-code__input" max="9" min="0" maxlength="1">
          <input type="number" name="sms-code" id="sms-code-3" class="sms-code__input" max="9" min="0" maxlength="1">
          <span>&mdash;</span>
          <input type="number" name="sms-code" id="sms-code-4" class="sms-code__input" max="9" min="0" maxlength="1">
          <input type="number" name="sms-code" id="sms-code-5" class="sms-code__input" max="9" min="0" maxlength="1">
          <input type="number" name="sms-code" id="sms-code-6" class="sms-code__input" max="9" min="0" maxlength="1">
        </form>
        <span class="sms-code__timer sms-code__timer--hidden">
          Запросить код снова можно через
          <span class="sms-code__timer-value">0:48</span>
        </span>
        <a href="" class="auth__link">Отправить код повторно</a>
      </div>
    </div>
  </section>
  <script type="module">
    const checkCode = () => {
      const containerEl = document.querySelector(".auth__content");
      const smsFormEl = document.querySelector(".sms-code__form");
      containerEl?.classList.add("auth__content--sms-code");

      let code = "";
      smsFormEl?.addEventListener("input", (e) => {
        if (e.target.value.length >= 1) {
          if (e.target.id !== "sms-code-6") {
            document
              .getElementById(
                e.target.id.replace(/\d+$/, function(n) {
                  return ++n;
                })
              )
              .focus();
          } else {
            window.location = "../main/index.html";
          }
        }
      });
    };
    checkCode();
  </script>
</body>

</html>